{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP i5\\\\Desktop\\\\react project\\\\ProjetTest\\\\src\\\\AppStack.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { AuthContext } from \"./AuthProvider\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport axios from 'axios';\naxios.defaults.baseURL = 'http://airlock-example.test';\nvar Stack = createStackNavigator();\n\nfunction DashboardScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      logout = _useContext.logout;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  useEffect(function () {\n    axios.defaults.headers.common['Authorization'] = \"Bearer \" + user.token;\n    axios.get('/api/user').then(function (response) {\n      setName(response.data.name);\n    }).catch(function (error) {\n      console.log(error.response);\n    });\n  }, []);\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"Dashboard Screen Logged In View\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"User: \", user.email), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"User from Server: \", name), React.createElement(Button, {\n    title: \"Go to Settings\",\n    onPress: function onPress() {\n      return navigation.navigate('Settings');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Logout\",\n    onPress: function onPress() {\n      return logout();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction SettingsScreen(_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useContext2 = useContext(AuthContext),\n      user = _useContext2.user,\n      logout = _useContext2.logout;\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Settings Screen\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"User: \", user.email), React.createElement(Button, {\n    title: \"Go to Dashboard\",\n    onPress: function onPress() {\n      return navigation.navigate('Dashboard');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), React.createElement(Button, {\n    title: \"Logout\",\n    onPress: function onPress() {\n      return logout();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport var AppStack = function AppStack() {\n  return React.createElement(Stack.Navigator, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Dashboard\",\n    component: DashboardScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Settings\",\n    component: SettingsScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["C:/Users/HP i5/Desktop/react project/ProjetTest/src/AppStack.js"],"names":["React","useContext","useState","useEffect","createStackNavigator","AuthContext","axios","defaults","baseURL","Stack","DashboardScreen","navigation","user","logout","name","setName","headers","common","token","get","then","response","data","catch","error","console","log","flex","alignItems","justifyContent","email","navigate","SettingsScreen","AppStack"],"mappings":"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","sourcesContent":["\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { AuthContext } from \"./AuthProvider\";\nimport { Button, Text, View } from \"react-native\";\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'http://airlock-example.test';\n\nconst Stack = createStackNavigator();\n\nfunction DashboardScreen({ navigation }) {\n  const { user, logout } = useContext(AuthContext)\n  const [name, setName] = useState(null);\n\n  useEffect(() => {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${user.token}`;\n\n    axios.get('/api/user')\n      .then(response => {\n        setName(response.data.name);\n      })\n      .catch(error => {\n        console.log(error.response);\n      })\n\n  }, []);\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Dashboard Screen Logged In View</Text>\n      <Text>User: {user.email}</Text>\n      <Text>User from Server: {name}</Text>\n      <Button title=\"Go to Settings\" onPress={() => navigation.navigate('Settings')} />\n      <Button title=\"Logout\" onPress={() => logout()} />\n    </View>\n  );\n}\n\nfunction SettingsScreen({ navigation }) {\n  const { user, logout } = useContext(AuthContext)\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Settings Screen</Text>\n      <Text>User: {user.email}</Text>\n      <Button title=\"Go to Dashboard\" onPress={() => navigation.navigate('Dashboard')} />\n      <Button title=\"Logout\" onPress={() => logout()} />\n    </View>\n  );\n}\n\nexport const AppStack = () => {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen name=\"Dashboard\" component={DashboardScreen} />\n      <Stack.Screen name=\"Settings\" component={SettingsScreen} />\n    </Stack.Navigator>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}